<div class="container">
    <h2>Профіль</h2>
    <form *ngIf="user != null">
      <div>
        <label for="fullName">Повне ім'я:</label>
        <input type="text" id="fullName" [(ngModel)]="user.fullName" name="fullName" (ngModelChange)="onChanges()" required/>
      </div>
      
      <div>
        <label for="username">Ім'я користувача:</label>
        <input type="text" id="username" [(ngModel)]="user.username" name="username" (ngModelChange)="onChanges()" required/>
      </div>
      
      <div>
        <label for="email">Email:</label>
        <input type="email" id="email" [(ngModel)]="user.email" name="email" (ngModelChange)="onChanges()" required/>
      </div>
      
      <div>
        <label for="password">Пароль:</label>
        <input type="password" id="password" [(ngModel)]="user.password" name="password" (ngModelChange)="onChanges()" required/>
      </div>
      
      <button type="button" [disabled]="!hasChanges" (click)="saveChanges()">Зберегти</button>
    </form>

    <div *ngIf="purchases?.length">
      <h3>Історія покупок</h3>
      <ul>
        <li *ngFor="let purchase of purchases">
          <p><strong>Товар:</strong> {{ purchase.coin.name }}</p>
          <p><strong>Сума:</strong> {{ purchase.coin.price | currency:'UAH':'symbol' }}</p>
        </li>
      </ul>
    </div>
    <div *ngIf="!purchases?.length">
      <p>У вас поки що немає покупок.</p>
    </div>

  </div>
